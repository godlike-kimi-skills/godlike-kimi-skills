# Airdrop Farmer 空投农场

**自动化空投策略与执行系统** - 基于期望效用与前景理论的理性决策框架

系统化参与 DeFi 协议空投，最大化期望效用同时管理认知偏差和风险。

---

## 核心策略框架

### 🎯 空投类型期望效用矩阵

| 类型 | P(有空投) | E[价值] | C(投入) | EU(标准化) | 建议 |
|------|-----------|---------|---------|------------|------|
| **追溯空投** | 80% | $500 | $50 | 0.75 | ⭐⭐⭐ 优先 |
| **任务型空投** | 60% | $1,000 | $200 | 0.50 | ⭐⭐ 选择性参与 |
| **质押空投** | 70% | $2,000 | $1,500 | 0.25 | ⭐ 高风险评估 |
| **治理空投** | 40% | $300 | $30 | 0.45 | ⭐⭐ 低成本参与 |
| **测试网空投** | 30% | $100 | $10 | 0.35 | ⭐⭐ 时间充裕时 |

**期望效用计算公式:**
```
EU = P(有空投) × P(符合条件) × U(价值) - U(成本) × λ

其中:
├─ U(x) = x^0.88 (收益域) 或 -2.25×(-x)^0.88 (损失域)
└─ λ = 2.25 (损失厌恶系数)
```

### 📊 2025 最佳实践（认知偏差防范版）

```
1. 概率校准策略
   ├── 初始P(有空投) = 0.4 × 内部估计 + 0.6 × 外部基准(30%)
   ├── 贝叶斯更新：每获得新证据后调整概率
   └── 证伪机制：主动寻找"无空投"证据

2. 多元化策略（期望效用优化）
   ├── 目标：5-10个项目，EU总和最大化
   ├── 避免：EU<0.3的项目，无论FOMO多强
   └── 再平衡：每月根据新信息调整组合

3. 反女巫保护（可证伪测试）
   ├── 持续A/B测试不同策略
   ├── 记录投入产出数据验证有效性
   └── 每季度更新"最佳实践"

4. 成本控制（损失厌恶管理）
   ├── 预设每月最大投入预算
   ├── 自动提取确定收益（利用确定效应）
   └── 连续亏损后强制冷静期

5. 信息优势（认识论校准）
   ├── 多源交叉验证（降低确认偏误）
   ├── 标注每个信息的置信度
   └── 记录预测准确率，持续校准
```

---

## 项目评估框架

### 贝叶斯评分卡（动态更新）

| 维度 | 权重 | 评估要点 | P(有空投)调整 |
|------|------|----------|---------------|
| **团队背景** | 20% | 知名机构投资、团队履历 | +10% to +20% |
| **融资规模** | 20% | 融资额、投资机构质量 | +5% to +15% |
| **产品成熟度** | 20% | 主网上线、TVL、用户量 | +10% to +20% |
| **空投暗示** | 20% | 官方暗示强度、社区共识 | +15% to +25% |
| **竞争程度** | 10% | 参与人数、资金门槛 | -5% to -15% |
| **时间成本** | 10% | 任务复杂度、等待周期 | -5% to -10% |

**基础率**: 无信息时，P(有空投) = 30%（行业基准）

**贝叶斯更新示例:**
```
初始: P(有空投) = 30%

证据1: 获得A16z投资 (+15%)
P(E|有空投) = 80%, P(E|无) = 30%
后验: 30% × (80/30) = 48%

证据2: 官方CEO暗示空投 (+20%)
P(E|有空投) = 90%, P(E|无) = 20%
后验: 48% × (90/20) = 86%

证据3: 发现代码中有空投合约 (+25%)
P(E|有空投) = 95%, P(E|无) = 5%
后验: 86% × (95/5) = 95% → 强烈建议参与
```

### 风险等级（可证伪定义）

| 等级 | 定义 | P(有空投)范围 | 最大投入占比 | 退出条件 |
|------|------|---------------|--------------|----------|
| 🟢 **低风险** | 官方确认、知名项目 | >70% | 20% | 获得空投后 |
| 🟡 **中风险** | 有暗示、需一定投入 | 40-70% | 15% | 投入>预算或3个月无消息 |
| 🔴 **高风险** | 高度投机、可能无空投 | <40% | 5% | 1个月无进展即退出 |

---

## 期望效用决策流程

### 完整决策框架

```
阶段1: 项目筛选
├─ 计算基础P(有空投)
├─ 收集证据并贝叶斯更新
└─ 若P(有空投) < 30% → 放弃

阶段2: 价值评估
├─ E[价值] = 参考类似项目历史
├─ 调整流动性预期（到手即卖折扣）
└─ 考虑时间价值（资金锁定成本）

阶段3: 成本计算
├─ Gas费（当前网络状态）
├─ 桥接费（跨链需求）
├─ 时间成本（按小时工资折算）
└─ 机会成本（放弃的其他机会）

阶段4: 期望效用计算
├─ EU = P(成功) × U(收益) - U(成本) × λ
├─ 置信度调整：EU × 数据质量系数
└─ 若EU < 阈值 → 放弃

阶段5: 风险检查
├─ 是否超过单项投入上限？
├─ 是否触发连续亏损冷静期？
└─ 是否符合多元化目标？

阶段6: 执行与记录
├─ 记录预期P(成功)和E[价值]
├─ 执行并跟踪实际结果
└─ 更新信念校准模型
```

### 决策计算示例

**项目**: XYZ DeFi (新Layer2)

```
输入:
├─ P(有空投): 65% (融资良好+官方暗示)
├─ P(符合条件): 80% (任务简单)
├─ E[空投价值]: $800 (参考类似项目)
├─ Gas+桥接成本: $150
├─ 时间成本: $50 (2小时)
└─ 机会成本: $30 (资金锁定1月)

效用计算:
├─ U(收益) = 800^0.88 = 401.5
├─ U(成本) = (150+50+30)^0.88 = 136.4
├─ 期望收益效用 = 0.65 × 0.80 × 401.5 = 208.8
├─ 调整成本 = 136.4 × 2.25 = 306.9
└─ EU = 208.8 - 306.9 = -98.1

决策: EU < 0，不建议参与

敏感性分析:
├─ 若E[价值]=$1500: EU = +72.6 (建议参与)
├─ 若P(有空投)=80%: EU = +27.4 (边缘)
└─ 若成本降至$100: EU = +2.3 (勉强参与)
```

---

## 前景理论偏差防护

### 认知偏差识别与应对

| 偏差 | 表现 | 防护措施 | 工具支持 |
|------|------|----------|----------|
| **小概率高估** | 认为"这个项目肯定有空投" | 强制基础率校准 | 概率计算器 |
| **损失厌恶** | 不愿割肉退出亏损项目 | 预设止损规则 | 自动提醒 |
| **反射效应** | 连续亏损后激进参与 | 强制冷静期机制 | 冷却期锁定 |
| **确定效应** | 过早出售确定的小额收益 | 利润提取规则 | 自动提取建议 |
| **沉没成本** | 继续投入已亏损项目 | 边际分析提示 | EU重算工具 |
| **FOMO** | 跟随他人参与未评估项目 | 强制等待期 | 24小时冷却 |

### 损失厌恶管理

```python
# 心理效用计算器
def psychological_utility(outcome, is_loss):
    if not is_loss:
        return outcome ** 0.88  # 收益域凹函数
    else:
        return -2.25 * ((-outcome) ** 0.88)  # 损失域更陡峭

# 示例：投入$200获得$200空投
objective_result = 0  # 盈亏平衡
psychological_result = psychological_utility(200, False) + \\
                       psychological_utility(-200, True)
                     = 108.9 - 245.0 = -136.1
# 心理上感觉像损失了$136!
```

**应对策略**: 设置最低收益阈值（如投入2倍）才能弥补损失厌恶的心理成本。

### 自动防护机制

```bash
# 连续亏损检测
if monthly_loss_streak >= 3:
    activate_cooling_period(days=7)
    require_manual_override_to_continue()

# 预算超限检测
if project_exposure > 0.20 * total_budget:
    block_further_investment()
    alert("超过单项投入上限20%")

# FOMO防护
if decision_time < 24_hours:
    add_cooling_period(hours=24)
    show_base_rate_reminder()
```

---

## 因果推断与归因分析

### 成功因素因果图

```
                    项目质量 (混淆变量)
                         ↓
        ┌────────────────┼────────────────┐
        ↓                ↓                ↓
融资规模 ←──── 团队背景 ────→ 空投价值
        ↓                ↓                ↓
        └────────→ 空投确定性 ←───────────┘
                      ↓
                 参与决策
                      ↓
    ┌─────────────────┼─────────────────┐
    ↓                 ↓                 ↓
参与时机      交互质量/数量      反女巫措施
    ↓                 ↓                 ↓
    └────────→ 实际空投金额 ←───────────┘
```

**关键洞察**: 融资规模与空投价值的相关性可能由"项目质量"这个混淆变量解释。

### 反事实分析框架

**问题**: "如果我没有参与这个项目，而是参与了另一个，结果会怎样？"

```
项目A (实际参与):
├─ 投入: $200
├─ 实际回报: $500
└─ 净收益: $300

项目B (未参与，后知获得空投):
├─ 投入: $150
├─ 实际回报: $0 (未参与)
├─ 估计回报: $1,000 (如果参与)
└─ 机会成本: $1,000 - $500 = $500

反事实效应: 选择A而非B导致了$500的机会损失
```

**应用**: 每月进行反事实分析，优化未来决策。

### 选择偏差纠正

**问题**: 只分析获得空投的案例，忽视投入但未获得空投的案例。

**解决方案**: 强制记录所有项目

```python
class ProjectTracker:
    def record_project(self, project):
        self.all_projects.append({
            'name': project.name,
            'invested': True/False,
            'amount_invested': amount,
            'airdrop_received': amount/0,
            'predicted_p_airdrop': p,
            'actual_outcome': 'success'/'failure'/'pending'
        })
    
    def calculate_real_success_rate(self):
        # 包括所有参与的项目，不只是成功的
        success = sum(1 for p in self.all_projects if p['airdrop_received'] > 0)
        total = len(self.all_projects)
        return success / total
```

---

## 可证伪性设计

### 核心假设与证伪标准

**假设1: "多元化策略能降低风险并提高风险调整收益"**

| 维度 | 评估 | 可证伪标准 |
|------|------|------------|
| 具体性 | "5-10个项目" | ✓ |
| 可观测 | 收益数据可统计 | ✓ |
| 可重复 | 可复制投资组合 | ✓ |
| 可反驳 | 定义失败条件 | 夏普比率<单一项目 |
| 风险边界 | 时间范围 | 6个月评估期 |

**证伪触发点:**
```
停止多元化条件:
├─ 多元化组合夏普比率 < all-in策略
├─ 管理成本 > 组合收益的20%
└─ 单项目胜率 > 70% (此时集中更优)
```

**假设2: "反女巫措施能提高空投获得概率"**

**A/B测试框架:**
```python
def test_anti_sybil_measures():
    """持续测试反女巫措施有效性"""
    
    test_groups = {
        'control': {'measures': 'minimal'},      # 最小措施
        'basic': {'measures': 'standard'},       # 标准措施
        'advanced': {'measures': 'comprehensive'} # 全面措施
    }
    
    results = run_experiment(
        projects=get_low_value_projects(3),  # 低价值项目测试
        groups=test_groups,
        duration_months=3
    )
    
    # 证伪标准: 高级组不比基础组显著好
    if not significantly_better(results['advanced'], results['basic']):
        mark_hypothesis_falsified('全面反女巫措施')
        update_best_practices()
```

### 可证伪的项目评估声明

| 原陈述 | 可证伪版本 |
|--------|------------|
| "质押越多，空投越多" | "质押>$X时，空投价值增加>Y%" |
| "早期参与更有利" | "主网上线前30天内参与的地址，空投价值平均高Z%" |
| "知名项目空投更丰厚" | "融资>$10M的项目，空投价值中位数>$500" |

---

## 认识论校准

### 信念更新协议

```
初始信念: "此项目有空投" P = 30% (基础率)

证据收集与更新:
├─ 强证据 (代码发现、官方确认): Bayes Factor > 5
├─ 中等证据 (融资、团队): Bayes Factor 2-5
├─ 弱证据 (KOL推荐、社区讨论): Bayes Factor 1-2
└─ 证伪证据: 直接降至<10%

行动阈值:
├─ P > 70%: 积极投入
├─ 40% < P < 70%: 低成本参与
├─ 20% < P < 40%: 观察为主
└─ P < 20%: 放弃

校准检查:
├─ 季度回顾: 70%置信度的预测，实际准确率应≈70%
├─ 若持续偏差 > 15%: 调整置信度系统
└─ 更新基础率估计
```

### 置信度标注要求

所有项目评估必须标注置信度：

| 置信度 | 条件 | 标注 | 行动 |
|--------|------|------|------|
| 极高 (>90%) | 官方确认、代码发现 | "高确信" | 可投入上限 |
| 高 (70-90%) | 强暗示、多源验证 | "较为确信" | 正常投入 |
| 中 (40-70%) | 单一强证据或多弱证据 | "谨慎乐观" | 限制投入 |
| 低 (20-40%) | 弱证据、高度投机 | "高度不确定" | 极小投入或放弃 |
| 极低 (<20%) | 无实质证据 | "几乎不可能" | 放弃 |

### 外部视角基准

**内部视角**: "我的分析认为这个项目80%概率有空投"
**外部视角**: "类似项目的行业平均空投率是30%"

**校准公式**: 最终P = 0.3 × 内部估计 + 0.7 × 外部基准

---

## 执行工作流

### 自动化脚本

```bash
# 评估新项目
python scripts/evaluate.py --project xyz --show-eu --confidence

# 检查待领空投
python scripts/check.py

# 执行特定任务 (带EU验证)
python scripts/execute.py --task ink-gm --min-eu 0.3

# 批量操作（带随机延迟和预算检查）
python scripts/batch.py --wallets wallets.txt --delay 10-30 --max-budget 100

# 生成报告（包含信念校准）
python scripts/report.py --month 2025-01 --calibration-check
```

### 多账户管理

```
wallets/
├── main/              # 主账户（大额操作）
├── farming-01/        # 农场账户 1
├── farming-02/        # 农场账户 2
└── testnet/           # 测试网专用

规则（可证伪测试）:
- 主账户不与农场账户有资金往来
- 每个农场账户独立资金来源
- 交叉交互保持自然时间间隔
- 每月评估反女巫措施有效性
```

---

## 风险管理

### 风险控制清单

- [ ] 单个项目投入不超过总资金的 20%
- [ ] 使用硬件钱包管理大额资产
- [ ] 定期提取收益到安全钱包（利用确定效应）
- [ ] 监控合约风险（审计报告）
- [ ] 设置止损（如投入超过预算50%无回报）
- [ ] 连续3次失败后强制冷静期7天
- [ ] 每月进行信念校准检查

### 安全最佳实践

```
1. 钱包安全
   ├── 助记词离线存储
   ├── 使用硬件钱包签署大额交易
   └── 定期轮换活跃钱包（反女巫+安全）

2. 智能合约安全
   ├── 检查审计报告
   ├── 使用 Token Approval 管理
   └── 限制授权金额

3. 操作安全
   ├── 验证官方链接
   ├── 警惕钓鱼网站
   └── 不在公共 WiFi 操作

4. 认知安全
   ├── 避免FOMO（24小时冷却期）
   ├── 记录所有决策理由
   └── 定期复盘校准信念
```

---

## 工具推荐

| 工具类型 | 推荐工具 | 用途 |
|----------|----------|------|
| 空投追踪 | @DropsEarn, Airdrops.io | 发现新机会 |
| 任务管理 | Notion, Airtable | 跟踪任务进度 |
| Gas 监控 | Ultrasound.money | 优化交易时机 |
| 地址分析 | DeBank, Zapper | portfolio 追踪 |
| 反女巫 | 不同交易所提币 | 资金来源隔离 |
| 概率校准 | 内置EU计算器 | 理性决策 |

---

## 参考来源

- **AirdropAlert**: 空投聚合平台
- **DropsEarn**: 空投机会发现
- **Bankless**: DeFi 策略分析
- **Kahneman & Tversky**: 前景理论
- **Judea Pearl**: 因果推断
- **Karl Popper**: 可证伪性原则

---

## 版本信息

- **Version**: 3.0.0 (决策框架增强版)
- **Author**: KbotGenesis
- **Frameworks**: Expected Utility, Prospect Theory, Causal Inference, Falsifiability, Epistemic Reasoning
- **Last Updated**: 2026-02-20
